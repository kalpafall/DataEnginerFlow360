# StatsD mapping configuration for Airflow metrics
mappings:
  # DAG metrics
  - match: "airflow.dag.*.duration"
    name: "airflow_dag_run_duration_seconds"
    labels:
      dag_id: "$1"
  
  - match: "airflow.dag.*.success"
    name: "airflow_dag_run_success_total"
    labels:
      dag_id: "$1"
  
  - match: "airflow.dag.*.failed"
    name: "airflow_dag_run_failed_total"
    labels:
      dag_id: "$1"
  
  # Task metrics
  - match: "airflow.task.*.*.duration"
    name: "airflow_task_duration_seconds"
    labels:
      dag_id: "$1"
      task_id: "$2"
  
  - match: "airflow.task.*.*.success"
    name: "airflow_task_success_total"
    labels:
      dag_id: "$1"
      task_id: "$2"
  
  - match: "airflow.task.*.*.failed"
    name: "airflow_task_failed_total"
    labels:
      dag_id: "$1"
      task_id: "$2"
  
  # Scheduler metrics
  - match: "airflow.scheduler.heartbeat"
    name: "airflow_scheduler_heartbeat"
  
  - match: "airflow.scheduler.tasks.running"
    name: "airflow_scheduler_tasks_running"
  
  - match: "airflow.scheduler.tasks.queued"
    name: "airflow_scheduler_tasks_queued"
  
  # Executor metrics
  - match: "airflow.executor.open_slots"
    name: "airflow_executor_open_slots"
  
  - match: "airflow.executor.queued_tasks"
    name: "airflow_executor_queued_tasks"
  
  - match: "airflow.executor.running_tasks"
    name: "airflow_executor_running_tasks"
